<template>
  <div class="write-container">
    <h1>ë¦¬ë·° ì‘ì„±</h1>

    <form class="form" @submit.prevent="submitReview">

      <!-- ê´€ê´‘ì§€ -->
      <label>ê´€ê´‘ì§€</label>
      <input type="text" v-model="title" placeholder="ì˜ˆ: ê²½ë³µê¶" required />

      <!-- ë³„ì  -->
      <label>ë³„ì </label>
      <StarRating v-model="rating" />

      <!-- ì‚¬ì§„ ì—…ë¡œë“œ -->
      <label>ì‚¬ì§„ ì—…ë¡œë“œ</label>
      <input type="file" @change="handleFile" />

      <!-- ë¦¬ë·° ë‚´ìš© -->
      <label>ë¦¬ë·° ë‚´ìš©</label>
      <textarea
        v-model="content"
        rows="7"
        placeholder="ì—¬í–‰ì€ ì–´ë– ì…¨ë‚˜ìš”? ìƒì„¸í•˜ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš” ğŸ˜Š"
        required
      />

      <button type="submit" class="submit-btn">ì‘ì„± ì™„ë£Œ</button>
    </form>
  </div>
</template>

<script setup>
import { ref } from "vue";
import { useRouter } from "vue-router";
import StarRating from "@/components/StarRating.vue";  // â­ ë³„ì  ì»´í¬ë„ŒíŠ¸

const router = useRouter();

// ì…ë ¥ê°’
const title = ref("");
const rating = ref(0);    // â­ ë³„ì  ì—°ë™
const content = ref("");
const imageFile = ref(null);

const handleFile = (e) => {
  imageFile.value = e.target.files[0];
};

const submitReview = () => {
  // ğŸ”¥ ë‚˜ì¤‘ì— API ì „ì†¡ ì˜ˆì •
  console.log({
    title: title.value,
    rating: rating.value,
    content: content.value,
    image: imageFile.value,
  });

  alert("ë¦¬ë·°ê°€ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ™Œ");
  router.push("/board");
};
</script>

<style scoped lang="scss">
.write-container {
  max-width: 640px;
  margin: 0 auto;
  padding: 32px 16px;

  h1 {
    text-align: center;
    margin-bottom: 26px;
  }
}

.form {
  display: flex;
  flex-direction: column;
  gap: 18px;
}

label {
  font-size: 16px;
  font-weight: 600;
}

input,
select,
textarea {
  padding: 10px 14px;
  font-size: 15px;
  border: 1px solid #cfd6e3;
  border-radius: 6px;
}

.submit-btn {
  margin-top: 14px;
  padding: 12px;
  font-size: 17px;
  border: none;
  border-radius: 6px;
  background: #0066ff;
  color: white;
  cursor: pointer;
  transition: 0.2s;
}
.submit-btn:hover {
  background: #0052d8;
}
</style>
