<template>
  <div class="random-page">
    <h1 class="title">π² μ¤λμ λλ¤ μ—¬ν–‰μ§€</h1>

    <GachaMachine
      :isSpinning="isSpinning"
      @spin="drawRandom"
    />

    <PlaceCard
      v-if="pickedPlace"
      :place="pickedPlace"
      class="result-card"
    />
  </div>
</template>

<script setup>
import { ref } from "vue";
import GachaMachine from "@/components/GachaMachine.vue";
import PlaceCard from "@/components/PlaceCard.vue";

// π”Ή μ„μ‹ λ”λ―Έ (λ‚μ¤‘μ— API/AIλ΅ κµμ²΄)
const places = [
  { id: 1, title: "κ²½μ£Ό λ¶κµ­μ‚¬", addr: "κ²½λ¶ κ²½μ£Όμ‹", image: "/sample/1.jpg" },
  { id: 2, title: "λ¶€μ‚° κ°μ²λ¬Έν™”λ§μ„", addr: "λ¶€μ‚° μ‚¬ν•κµ¬", image: "/sample/2.jpg" },
  { id: 3, title: "μ „μ£Ό ν•μ¥λ§μ„", addr: "μ „λ¶ μ „μ£Όμ‹", image: "/sample/3.jpg" },
];

const isSpinning = ref(false);
const pickedPlace = ref(null);

const drawRandom = () => {
  isSpinning.value = true;
  pickedPlace.value = null;

  setTimeout(() => {
    const idx = Math.floor(Math.random() * places.length);
    pickedPlace.value = places[idx];
    isSpinning.value = false;
  }, 1800); // κ°€μ±  μ—°μ¶ μ‹κ°„
};
</script>

<style scoped>
.random-page {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 40px;
}

.title {
  margin-bottom: 30px;
}

.result-card {
  margin-top: 30px;
}
</style>
